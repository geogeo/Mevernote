define=function(){if(typeof wink=="undefined")wink={};var c=arguments,a=c.length;return(a==1?c[0]:a==2?c[1]:c[2])(wink)};define.amd={vendor:"winktoolkit.org"};define(function(){if(typeof wink=="undefined")wink={};return wink});
define(["../../_kernel/js/kernel"],function(c){c.version="1.4.2";c.api={};c.mm={};c.net={};c.plugins={};c.ui={form:{},layout:{},xy:{},xyz:{}};c.ux={};var a=Array.prototype.slice,d=window;c.byId=function(e){return c.isString(e)?document.getElementById(e):e};c.query=function(e,f){return new b(e,f)};var b=function(){var e=function(g,l){c.isUndefined(e.prototype.initialized)&&this.init();var o;try{o=a.call((l||document).querySelectorAll(g))}catch(r){o=[]}for(var m=this.length=o.length,k=0;k<m;k++)this[k]=
o[k];this.selector=g;return this},f=e.prototype={init:function(){f.each(["pop","push","reverse","shift","sort","splice","unshift","slice","indexOf","lastIndexOf"],function(g,l){f[l]=[][l]});c.query.extend(c,["getPosition","getTopPosition","getLeftPosition"],true);c.query.extend(c.fx,["getTransformPosition","hasClass"],true);c.query.extend(c.fx,["translate","rotate","scale","addClass","removeClass","apply","applyTransition","applyTransformTransition","onTransitionEnd"],false);c.query.extend(c.ux.gesture,
["listenTo","unlistenTo"],false);f.initialized=true},extend:function(g,l,o,r){var m=r||f;r={};var k,n=l.length;for(k=0;k<n;k++){var p=l[k],q=g?g[p]:null;if(c.isFunction(q))r[p]={c:g,f:q,r:o}}f.each(r,function(s,t){var v=t.f,w=t.c,u=t.r;m[s]=function(){var z=this.size();if(z!=0){var B,D=this.toArray(),x=[],y=this.splice.call(arguments,0);for(B=0;B<z;B++)x.push(v.apply(w,[D[B]].concat(y)));if(!u)return this;if(x.length==1)return x[0];return x}}})},size:function(){return this.length},toArray:function(){return a.call(this,
0)},each:function(g,l){for(i in g){var o=g[i];l.call(o,i,o)}}};return e}();c.query.extend=b.prototype.extend;var h="en_EN";c.setLocale=function(e){h=e};c.translate=function(e,f){var g=e,l=window.i18n||{};if(c.isSet(f)&&c.isSet(f.i18n))l=f.i18n;var o=l[h];if(c.isUndefined(o))o=l;l=o[e];c.isUndefined(l)||(g=l);return g};c.isUndefined=function(e){return e===undefined};c.isNull=function(e){return e===null};c.isSet=function(e){return!c.isUndefined(e)&&!c.isNull(e)};c.isCallback=function(e){return!!(e&&
e.method||c.isFunction(e))};c.isString=function(e){return typeof e=="string"||e instanceof String};c.isInteger=function(e){return parseInt(e)===e};c.isNumber=function(e){return typeof e=="number"||e instanceof Number};c.isArray=function(e){return typeof e=="array"||e instanceof Array};c.isBoolean=function(e){return typeof e=="boolean"||e instanceof Boolean};c.isFunction=function(e){return Object.prototype.toString.call(e)==="[object Function]"};c.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,
"")};c.bind=function(e,f){var g=a.call(arguments,2);return function(){var l=g.concat(a.call(arguments,0));return e.apply(f,l)}};c.call=function(e,f){if(c.isFunction(e))return e.apply(d,c.isArray(f)?f:[f]);var g=d,l=e.method,o=[];if(c.isSet(e.context))g=e.context;if(arguments.length==2)o=[f];if(c.isSet(e.arguments)){var r=e.arguments;c.isArray(r)||(r=[e.arguments]);o=o.concat(r)}return g[l].apply(g,o)};c.connect=function(e,f,g){var l=c.isFunction(g);if(!l&&!c.isSet(g.context))g.context=d;var o=e[f];
if(c.isNull(o)||c.isUndefined(o.cbs)){var r=function(){var n=r.target,p=[].splice.call(arguments,0);n&&n.apply(e,p);var q=r.cbs,s=q.length;for(n=0;n<s;n++){var t=q[n];c.isFunction(t)?c.call(t,p):c.call({context:t.context,method:t.method,arguments:p.concat(t.arguments)})}};r.target=o;r.cbs=[];o=e[f]=r}o=o.cbs;var m=o.length;for(f=0;f<m;f++){var k=o[f];if(l&&g==k||!l&&k.context==g.context&&k.method==g.method)return}o.push(g)};c.disconnect=function(e,f,g){var l=c.isFunction(g);if(!l&&!c.isSet(g.context))g.context=
d;e=e[f];if(!c.isUndefined(e.cbs)){f=e.cbs;var o=f.length;for(e=0;e<o;e++){var r=f[e];if(l&&g==r||!l&&r.context==g.context&&r.method==g.method){f.splice(e,1);break}}}};c.setTimeout=function(e,f,g){var l=a.call(arguments,3);return setTimeout(function(){e[f].apply(e,l)},g)};c.setInterval=function(e,f,g){var l=a.call(arguments,3);return setInterval(function(){e[f].apply(e,l)},g)};c.getPosition=function(e,f,g){var l={x:0,y:0};for(e=e;e&&e!=f;){l.x+=e.offsetLeft;l.y+=e.offsetTop;if(g){l.x+=c.fx.getTransformPosition(e).x;
l.y+=c.fx.getTransformPosition(e).y}e=e.offsetParent}return l};c.getTopPosition=function(e,f,g){return c.getPosition(e,f,g).y};c.getLeftPosition=function(e,f,g){return c.getPosition(e,f,g).x};var j=100;c.getUId=function(){return j+=1};if(c.isUndefined(d._))_=c.bind(c.translate,c);if(c.isUndefined(d.$))$=function(){return c.query.apply(c,arguments)};if(c.isUndefined(d.$$))$$=c.bind(c.query,c);return c});define(["../../../_amd/core"],function(){return wink});
define(["../../../_amd/core"],function(){wink.error={logLevel:0,log:function(c){if(this.logLevel==1)typeof console!="undefined"?console.log(c):alert(c)}};wink.log=wink.bind(wink.error.log,wink.error);return wink.error});
define(["../../../_amd/core"],function(){var c=window.JSON;wink.json={parse:function(a){if(wink.isSet(c)&&wink.isSet(c.parse))return c.parse(a);else{var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a=String(a);d.lastIndex=0;if(d.test(a))a=a.replace(d,function(h){return"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))var b=eval("("+a+")");return b}},concat:function(a,d){for(var b in d)a[b]=d[b];return a}};wink.parseJSON=wink.bind(wink.json.parse,wink.json);wink.mixin=wink.bind(wink.json.concat,wink.json);return wink.json});
define(["../../../_amd/core"],function(){function c(h,j){if(wink.isCallback(j)){var e=[h.toLowerCase(),j];b.push(e)}}function a(h,j){var e=h.toLowerCase(),f=wink.isFunction(j),g,l=b.length;for(g=0;g<l;g++){var o=b[g];if(o[0]==e&&(f&&j==o[1]||!f&&o[1].method==j.method&&o[1].context==j.context)){b.splice(g,1);break}}}function d(h,j){var e=h.toLowerCase(),f,g=b.length;for(f=0;f<g;f++){var l=b[f];l&&l[0]==e&&wink.isSet(l[1])&&wink.call(l[1],j)}}var b=[];wink.topics={_getTopics:function(){return b}};wink.topics.subscribe=
c;wink.topics.unsubscribe=a;wink.topics.publish=d;wink.publish=d;wink.subscribe=c;wink.unsubscribe=a;return wink.topics});
define(["../../../_amd/core"],function(){var c,a,d,b,h,j,e,f,g,l,o,r,m,k,n,p,q,s,t,v,w,u,z,B;c=a=d=b=h=j=e=f=w=u=z=B=false;g=l=o=r=m=k=n=p=q=0;var D=wink.isSet;a=function(y,E){return RegExp(y).test(E)};var x=function(y,E,C){var F={v:0,r:0,u:0};y=RegExp(E).exec(y);if(D(y)&&y.length>1){y=y[2];E=RegExp("[^\\"+C+"0-9]").exec(y);if(D(E))y=y.slice(0,E.index);C=y.split(C);if(C.length>0)F.v=C[0];if(C.length>1)F.r=C[1];if(C.length>2)F.u=C[2];if(C.length>3)F.u+="."+C[3]}return F};c=navigator||{};s=c.userAgent;
t=c.platform;v=c.appVersion;c=a(" AppleWebKit/",s);u=a(/bada/gi,s);z=a(/Opera/gi,s);if(D(t)){if(a(/iphone/i,t))d=true;if(a(/ipod/i,t))b=true;if(a(/ipad/i,t))h=true;if(a(/blackberry/i,t))w=true}if(D(v)){if(a(/android/i,v))j=true;if(a(/safari/i,v)){e=true;t=x(v,"( Version/)([^ ]+)",".");r=t.v;m=t.r;k=t.u}if(a(/MSIE/i,v)){B=true;t=x(v,"( MSIE )([^ ]+)",".");r=t.v;m=t.r}}if(!e&&!c)f=a(/mozilla/i,s);a=d||b||j||w||u||a(" Mobile/",s);if(c){t=x(s,"( AppleWebKit/)([^ ]+)",".");g=t.v;l=t.r;o=t.u}if(a&&D(v)){n=
j?["( Android )([^ ]+)","."]:["( OS )([^ ]+)","_"];if(w)n=["( BlackBerry )([^ ]+)","."];x=x(v,n[0],n[1]);n=x.v;p=x.r;q=x.u}wink.ua={isWebkit:c,isMobile:a,isIPhone:d,isIPod:b,isIPad:h,isIOS:d||b||h,isAndroid:j,isBlackBerry:w,isBada:u,isOpera:z,isSafari:e,isMozilla:f,isIE:B,webkitVersion:g,webkitMinorVersion:l,webkitUpdateVersion:o,browserVersion:r,browserMinorVersion:m,browserUpdateVersion:k,osVersion:n,osMinorVersion:p,osUpdateVersion:q};return wink.ua});
define(["../../../_amd/core"],function(){function c(j){if(h(d[j]))d[j]=d[j]();return d[j]}function a(j,e,f){if(typeof d[j]=="undefined"){var g=e;if(f&&h(e))g=e();d[j]=g}}var d={},b={},h=wink.isFunction;wink.has=c;wink.has.prefixes=["-webkit-","-moz-","-o-","ms-","-khtml-"];wink.has.prefix=null;wink.has.inquire=a;wink.has.inquireMap=function(j,e){if(!(!j||j.length==0))for(var f in j)a(f,j[f],e)};wink.has.setProp=function(j,e){b[j]=e};wink.has.deferProp=function(j,e){b[j]=h(e)?e:function(){c(e)}};wink.has.prop=
function(j){var e=b[j];if(h(e)){e();e=b[j];if(h(e))e=j}return e||j};return wink.has});define(["../../../_amd/core"],function(){var c=wink.has,a=c.inquireMap,d=window;a({"json-parse":function(){var b;b=false;if(d.JSON&&typeof JSON.parse=="function"){b=JSON.parse('{"w":1}');b=!!(b&&b.w)}return b},"json-stringify":function(){var b;b=false;if(d.JSON&&typeof JSON.stringify=="function"){b=JSON.stringify({w:true});b=b=='{"w":true}'}return b}});return c});
define(["../../../_amd/core"],function(){function c(k){var n=false;if(typeof l[k]==r){h(k,k);n=true}else{var p=d.prefix;p=p!=null?[p]:o;var q,s=p.length;for(q=0;q<s;q++){var t,v=p[q]+k;t=v;var w=/(-)([a-z])/;for(v=v.match(w);v!=null;){t=t.replace(w,RegExp.$2.toUpperCase());v=t.match(w)}t=t;if(typeof l[t]==r){d.prefix=p[q];h(k,t);n=true;break}}}return n}function a(k){return function(){c(k)}}var d=wink.has,b=d.inquireMap,h=d.setProp,j=d.deferProp,e=window,f=e.document,g=f.createElement("div"),l=g.style,
o=d.prefixes,r="string",m={a:"transform-property",b:"transition-property",c:"transition-duration",d:"transition-delay",e:"transition-timing-function",f:"border-radius",g:"text-shadow",h:"box-shadow",i:"gradient",j:"perspective",k:"transform-origin",l:"transform-style",m:"transform",n:"css-transition",o:"css-perspective",p:"css-transform",q:"perspective-origin",r:"backface-visibility",s:"tap-highlight-color",t:"user-select",bg:"background-image",tr:"transition",an:"animation"};j(m.a,m.p);j(m.m,m.p);
j(m.b,m.n);j(m.c,m.n);j(m.d,m.n);j(m.e,m.n);j(m.f,"css-border-radius");j(m.g,"css-text-shadow");j(m.h,"css-box-shadow");j(m.i,"css-gradient");j(m.j,m.o);j(m.k,m.o);j(m.l,m.o);j(m.q,m.o);j(m.tr,m.n);j(m.an,"css-animation");j(m.r,a(m.r));j(m.s,a(m.s));j(m.t,a(m.t));b({"css-transform":function(){var k=c(m.m),n=d.prefix,p=m.m;if(n!=null)p=n+p;k?h(m.a,d.prop(m.m)):h(m.a,m.m);h(m.m,p);return k},"css-transition":function(){var k=true;return k=(k=(k=(k=(k=k&&c(m.b))&&c(m.c))&&c(m.d))&&c(m.e))&&c(m.tr)},"css-animation":function(){return c(m.an)},
"css-translate3d":function(){return d("css-matrix")},"css-border-radius":function(){return c(m.f)},"css-text-shadow":function(){return c(m.g)},"css-box-shadow":function(){return c(m.h)},"css-gradient":function(){var k=m.i,n=m.bg,p=d.prefix;p=p!=null?["",p]:[""].concat(o);var q,s=p.length;for(q=0;q<s;q++){var t=p[q]+k;l.cssText=n+":"+(t+"(linear,left top,right bottom,from(#9f9),to(white));");if(l[n]&&l[n].indexOf(k)!=-1){h(k,t);return true}}return false},"css-perspective":function(){var k=c(m.j)&&
c(m.k)&&c(m.l)&&c(m.q);k=k&&c(m.k+"-x")&&c(m.k+"-y")&&c(m.k+"-z");if(!k)return false;var n=d.prefix||"";k=f.createElement("style");k.textContent="@media ("+n+"transform-3d){#wink_has{height:2px}}";f.getElementsByTagName("head")[0].appendChild(k);g.id="wink_has";f.documentElement.appendChild(g);n=g.offsetHeight===2;k.parentNode.removeChild(k);g.parentNode.removeChild(g);return n},"css-matrix":function(){var k=e.WebKitCSSMatrix;if(typeof k=="undefined")return false;var n=new k("matrix(1,0,0,1,6,7)"),
p=n.m41==6&&n.m42==7&&n.m41==n.e&&n.m42==n.f;if(p){k=new k("matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,6,7,8,1)");p=p&&n.m41==k.m41&&n.m42==k.m42&&k.m43==8}return p},"css-matrix-stack-inversed":function(){var k=wink.ua;if(!d("css-matrix")||!k)return false;var n=k.isIOS?parseInt(""+k.osVersion+k.osMinorVersion+k.osUpdateVersion):500;k=k.isAndroid?parseInt(""+k.osVersion+k.osMinorVersion+k.osUpdateVersion):300;return n<421||k<300},"css-position-fixed":function(){var k=wink.ua;if(k.isAndroid&&k.osVersion==2&&
k.osMinorVersion==1||k.isBada)return false;if(k.isIOS)return k.osVersion<5?false:true;k=document.body;if(document.createElement&&k&&k.appendChild&&k.removeChild){if(!g.getBoundingClientRect)return null;g.innerHTML="x";g.style.cssText="position:fixed;top:100px;";k.appendChild(g);var n=k.style.height,p=k.scrollTop;k.style.height="3000px";k.scrollTop=500;var q=g.getBoundingClientRect().top;k.style.height=n;n=q===100;k.removeChild(g);k.scrollTop=p;return n}return false},"css-overflow-scrolling":function(){return c("overflow-scrolling")}});
return d});
define(["../../../_amd/core"],function(){function c(g){return"on"+f[g]in e}var a=wink.has,d=a.inquireMap,b=a.setProp,h=a.deferProp,j=window,e=j.document.documentElement,f={ts:"touchstart",tm:"touchmove",te:"touchend",gs:"gesturestart",gc:"gesturechange",ge:"gestureend",tre:"transitionend"};h(f.ts,f.ts);h(f.tm,f.tm);h(f.te,f.te);h(f.tre,f.tre);d({touchstart:function(){var g=c("ts");b(f.ts,g?f.ts:"mousedown");return g},touchmove:function(){var g=c("tm");b(f.tm,g?f.tm:"mousemove");return g},touchend:function(){var g=
c("te");b(f.te,g?f.te:"mouseup");return g},touch:function(){return a(f.ts)&&a(f.tm)&&a(f.te)},gesturestart:function(){return c("gs")},gesturechange:function(){return c("gc")},gestureend:function(){return c("ge")},gesture:function(){return a(f.gs)&&a(f.gc)&&a(f.ge)},transitionend:function(){if(a("css-transition")){var g=a.prefix,l=f.tre;if(g=="-webkit-")l="webkitTransitionEnd";else if(g=="-o-")l="oTransitionEnd";b(f.tre,l);return true}return false},hashchange:function(){return"onhashchange"in j}});
return a});
define(["../../../_amd/core"],function(){var c=wink.has.inquireMap,a=window.document,d=a.documentElement;c({dynamicBase:function(){var b,h=a.createElement("head"),j=a.createElement("body");b=a.getElementsByTagName("base");var e=location.protocol+"//"+location.host,f=e+"/old/";d.appendChild(h);d.appendChild(j);if(b.length>0){b=b[0];f=b.href}else{b=a.createElement("base");b.href=f;h.appendChild(b)}var g=a.createElement("a");g.href="rlt";j.appendChild(g);var l=g.pathname;b.href=e+"/new/";e=g.pathname;
d.removeChild(h);d.removeChild(j);b.href=f;return l!==e}});return wink.has});
define(["../../../_amd/core"],function(){function c(n,p){var q=n.className;if((" "+q+" ").indexOf(" "+p+" ")<0)n.className=q+(q?" ":"")+p}function a(n,p){var q=wink.trim((" "+n.className+" ").replace(" "+p+" "," "));if(n.className!=q)n.className=q}function d(n,p){return(" "+n.className+" ").indexOf(" "+p+" ")>=0}function b(n,p){var q,s=n.style;for(q in p){var t=r(q);s[t]=p[q]}}function h(n,p,q,s,t){var v=p;if(p.indexOf(",")==-1)v=r(p);else{p=p.split(",");var w=p.length;for(v=0;v<w;v++)p[v]=r(wink.trim(p[v]));
v=p.join(",")}b(n,{"transition-property":v,"transition-duration":q,"transition-delay":s,"transition-timing-function":t})}function j(n,p,q,s){k(n,p,q,m.u,m.u,m.u,s)}function e(n,p,q){k(n,m.u,m.u,p,q,m.u,m.u)}function f(n,p){k(n,m.u,m.u,m.u,m.u,p,m.u)}function g(n){return window.getComputedStyle(n)[r("transform-property")]}function l(n,p){b(n,{"transform-property":p})}var o=wink.isSet,r=wink.has.prop,m={u:undefined};wink.fx={};wink.fx.addClass=c;wink.fx.removeClass=a;wink.fx.hasClass=d;wink.fx.apply=
b;wink.fx.applyTransition=h;wink.fx.applyTransformTransition=function(n,p,q,s){h(n,"transform",p,q,s)};wink.fx.onTransitionEnd=function(n,p,q){var s=r("transitionend"),t=function(v){q!==true&&n.removeEventListener(s,t,false);p(v)};n.addEventListener(s,t,false);return t};wink.fx.getTransformPosition=function(n){var p={x:null,y:null};n=g(n);if(wink.has("css-matrix")){if(n=="none")n="";n=new WebKitCSSMatrix(n);p.x=n.m41;p.y=n.m42}else{var q=RegExp(/matrix/i);if(q.test(n)){q=RegExp("[, ()]+","g");n=n.split(q);
if(n.length>6&&n[0]=="matrix"){p.x=parseInt(n[5]);p.y=parseInt(n[6])}}}return p};wink.fx.applyTranslate=j;wink.fx.translate=j;wink.fx.applyScale=e;wink.fx.scale=e;wink.fx.applyRotate=f;wink.fx.rotate=f;wink.fx.getTransform=g;wink.fx.setTransform=l;var k=function(n,p,q,s,t,v,w){var u=n._cssT||{};u=n._cssT={t:o(p)||o(q)?{tx:p,ty:q}:u.t,s:o(s)||o(t)?{sx:s,sy:t}:u.s,r:o(v)?{a:v}:u.r};s=u.t&&(o(u.t.tx)||o(u.t.ty));q=u.s&&(o(u.s.sx)||o(u.s.sy));p=u.r&&o(u.r.a);if(!wink.has("css-translate3d")||wink.ua.isAndroid&&
(q||p))w=true;if(s){t=u.t.ty;w=w;s="";s=u.t.tx;o(s)||(s=0);t=t;o(t)||(t=0);v="0";var z=false;z=(z=z||wink.isString(s)&&s.indexOf("%",0)!=-1)||wink.isString(t)&&t.indexOf("%",0)!=-1;if(!z){s+="px";t+="px";v+="px"}w=s=w?"translate("+s+", "+t+")":"translate3d("+s+", "+t+", "+v+")"}else w="";w=w;if(q){q=u.s.sy;s="";s=u.s.sx;o(s)||(s=1);q=q;o(q)||(q=1);q=s=wink.has("css-perspective")?"scale3d("+s+", "+q+", 1)":"scale("+s+", "+q+")"}else q="";q=q;if(p){p="";u=u.r.a;o(u)||(u=0);u=p="rotate("+u+"deg)"}else u=
"";u=wink.trim(w+" "+q+" "+u);l(n,u)};wink.addClass=c;wink.removeClass=a;wink.hasClass=d;return wink.fx});define(["../../../_amd/core"],function(){wink.math={round:function(c,a){wink.isSet(a)||(a=0);var d=Math.pow(10,a);return Math.round(c*d)/d},modulo:function(c,a){var d=c%a;return d<0?d+a:d}};return wink.math});
define(["../../../_amd/core"],function(){var c=wink.isSet;wink.ux.Event=function(a){this.uId=wink.getUId();this.multitouch=this.srcEvent=this.target=this.timestamp=this.y=this.x=this.type=null;wink.mixin(this,a);this._validateProperties()};wink.ux.Event.prototype={preventDefault:function(){this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},dispatch:function(a,d){var b=this.srcEvent,h=b.type;if(c(d))h=d;h=h;var j="HTMLEvents";if(/blur|focus|resize|scroll/i.test(h))j=
"UIEvent";else if(/click|mouse(down|move|up)/i.test(h))j="MouseEvent";else if(/touch(start|move|end|cancel)/i.test(h))j="TouchEvent";var e=document.createEvent(j),f=b.changedTouches;if(j=="HTMLEvents")e.initEvent(h,b.bubbles,b.cancelable);else if(j=="UIEvent")e.initUIEvent(h,b.bubbles,b.cancelable,window,b.detail);else if(j=="MouseEvent"){j=b.screenX;var g=b.screenY,l=b.clientX,o=b.clientY;if(b.initTouchEvent&&f&&f.length>0){f=f[0];j=f.screenX;g=f.screenY;l=f.clientX;o=f.clientY}e.initMouseEvent(h,
b.bubbles,b.cancelable,document.defaultView,b.detail,j,g,l,o,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}else j=="TouchEvent"&&e.initTouchEvent(h,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,f,b.scale,b.rotation);a.dispatchEvent(e)},_validateProperties:function(){return true}};return wink.ux.Event});
define(["../../../_amd/core"],function(){function c(f){var g={};g.x=f.pageX;g.y=f.pageY;g.target=f.target;return g}var a=[],d=wink.has.prop,b={start:d("touchstart"),move:d("touchmove"),end:d("touchend"),gesturestart:d("gesturestart"),gesturechange:d("gesturechange"),gestureend:d("gestureend")},h={};for(var j in b)h[b[j]]=j;wink.ux.touch={};wink.ux.touch.addListener=function(f,g,l,o){if(wink.isUndefined(b[g])){wink.log("[touch] Cannot add listener for unknown eventType: "+g);return false}wink.isSet(o)||
(o={});if(o===true)o={preventDefault:true};o={preventDefault:o.preventDefault===true?true:false,tracking:o.tracking===false?false:true,captureFlow:o.captureFlow===true?true:false};var r=null,m=e(f);if(m==null){r=new wink.ux.touch.Element({domNode:f,tracking:o.tracking});a.push(r)}else r=a[m];if(!r.isListening(g)){if(r.eventHandler==null)r.eventHandler=function(k){var n=r,p=h[k.type],q={};q.type=p;q.srcEvent=k;q.timestamp=k.timeStamp;q.multitouch=false;if(!q.timestamp)q.timestamp=(new Date).getTime();
if(wink.has("touch"))if(p=="gesturestart"||p=="gesturechange"||p=="gestureend"){q.target=k.target;q.x=0;q.y=0}else{var s=null;if(p=="end"){if(k.changedTouches&&k.changedTouches.length>0)s=k.changedTouches[0]}else if(k.targetTouches&&k.targetTouches.length>0)s=k.targetTouches[0];else if(k.changedTouches&&k.changedTouches.length>0)s=k.changedTouches[0];if(s!=null){s=c(s);q.x=s.x;q.y=s.y;q.target=s.target;if(k.touches&&k.touches.length>1)q.multitouch=true}}else{s=c(k);q.x=s.x;q.y=s.y;q.target=s.target}k=
new wink.ux.Event(q);if(!n.isListening("start")||n.tracking==false)n.tracked=true;else if(p=="start")n.tracked=true;if(n.tracked==true){if(p=="end")n.tracked=false;n.notifyEvent(k)}};r.eventCaptures[g]=o.captureFlow;r.domNode.addEventListener(b[g],r.eventHandler,r.eventCaptures[g])}r.addEventCallback(g,l,o.preventDefault)};wink.ux.touch.removeListener=function(f,g,l){f=e(f);if(f!=null){f=a[f];f.removeEventCallback(g,l);f.isListening(g)||f.domNode.removeEventListener(b[g],f.eventHandler,f.eventCaptures[g])}};
wink.ux.touch.getTouchProperties=c;var e=function(f){var g,l=a.length;for(g=0;g<l;g++)if(a[g].domNode==f)return g;return null};wink.ux.touch.Element=function(f){this.uId=wink.getUId();this.domNode=null;this.tracked=this.tracking=false;this.eventHandler=null;this.eventCaptures={};this._els={};wink.mixin(this,f);this._validateProperties()};wink.ux.touch.Element.prototype={addEventCallback:function(f,g,l){if(!wink.isCallback(g))return false;var o=this._els[f];if(o){f=o.callbacks;l=wink.isFunction(g);
var r,m=f.length;for(r=0;r<m;r++){var k=f[r];if(l&&g==k||!l&&g.context==k.context&&g.method==k.method)return false}}else{o={preventDefault:l,callbacks:[]};this._els[f]=o}o.callbacks.push(g);return true},removeEventCallback:function(f,g){if(!wink.isCallback(g))return false;var l=this._els[f];if(!l)return false;var o=l.callbacks,r=wink.isFunction(g),m,k=o.length;for(m=0;m<k;m++){var n=o[m];if(r&&g==n||!r&&g.context==n.context&&g.method==n.method){l.callbacks.splice(m,1);break}}return true},isListening:function(f){if((f=
this._els[f])&&f.callbacks.length>0)return true;return false},notifyEvent:function(f){var g=this._els[f.type];if(g){g.preventDefault==true&&f.preventDefault();g=g.callbacks;for(var l=0;l<g.length;l++)wink.call(g[l],f)}},_validateProperties:function(){return true}};return wink.ux.touch});
define(["../../../_amd/core"],function(){var c=wink.isSet,a=wink.isArray;wink.net.Xhr=function(d){this.uId=wink.getUId();this.request={xhrObject:null,params:d};this._create()};wink.net.Xhr.prototype={sendData:function(d,b,h,j,e,f){var g=this.request,l=g.xhrObject,o=encodeURIComponent;h=h.toUpperCase();if(!(c(b)&&!a(b))){if(l){var r=null;if(c(b)){var m,k=b.length;for(m=0;m<k;m++){var n=b[m],p=n.name;n=n.value;if(h=="GET")d+=m==0&&d.indexOf("?")==-1?"?"+o(p)+"="+o(n):"&"+o(p)+"="+o(n);else if(m==0)r=
o(p)+"="+o(n);else r+="&"+o(p)+"="+o(n)}}try{l.open(h,d,true);l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");if(c(f))if(a(f)){k=f.length;for(m=0;m<k;m++){var q=f[m];l.setRequestHeader(q.name,q.value)}}l.send(r)}catch(s){return false}l.onreadystatechange=function(){if(l.readyState==4){var t=l.status;if(t>=200&&t<400||t==0)c(j)&&wink.call(j,g);else c(e)&&wink.call(e,g)}}}else return false;return true}},_create:function(){var d=window.XMLHttpRequest;if(d){var b;
try{b=new d}catch(h){b=false}this.request.xhrObject=b}}};wink.Xhr=wink.net.Xhr;return wink.Xhr});
define(["../../../../_amd/core"],function(){var c=wink.fx.apply,a=null,d=null,b=false;wink.ui.xy.layer={visible:false,color:"#000",opacity:0.3,zIndex:998,show:function(){b||this._initDom();a.onclick=function(){var h=wink.ui.xy.layer.onclick;wink.isSet(h)&&h()};if(!this.visible){c(d,{height:document.body.scrollHeight+"px"});c(a,{display:"block"});this.visible=true}},hide:function(){if(b&&this.visible){c(a,{display:"none"});this.visible=false}},refresh:function(){b&&this.visible&&c(d,{height:document.body.scrollHeight+
"px"})},update:function(){b||this._initDom();c(a,{"z-index":this.zIndex});c(d,{backgroundColor:this.color,opacity:this.opacity})},_initDom:function(){var h=document;a=h.createElement("div");c(a,{position:"absolute",display:"none",top:0,width:"100%","z-index":this.zIndex,"tap-highlight-color":"rgba(0, 0, 0, 0)"});d=h.createElement("div");c(d,{width:"100%",backgroundColor:this.color,opacity:this.opacity});a.appendChild(d);h.body.appendChild(a);b=true}};wink.layer=wink.ui.xy.layer;return wink.layer});
define(["../../../_amd/core"],function(c){c.math.radToDeg=function(a){return a*180/Math.PI};c.math.degToRad=function(a){return a*Math.PI/180};c.math.getAngle=function(a,d){var b=Math.abs(d);if(b>a*2)b=a*2;var h=2*a*a;b=Math.acos(-((Math.pow(b,2)-(Math.pow(a,2)+Math.pow(a,2)))/h));if(isNaN(b))b=0;return b};c.math.getAngleBetweenVectors=function(a,d){var b=c.math.getScalarVector(a,d),h=c.math.getNormVector(a)*c.math.getNormVector(d);b=Math.acos(b/h);if(isNaN(b))b=0;return b};c.math.normalizeVector=
function(a){var d=[0,0,0,1],b=c.math.getNormVector(a);if(b<=0)return d;d[0]=a[0]/b;d[1]=a[1]/b;d[2]=a[2]/b;return d};c.math.getNormVector=function(a){a=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];return a=Math.sqrt(a)};c.math.getNormalVector=function(a,d){var b=[0,0,0,1];b[0]=a[1]*d[2]-a[2]*d[1];b[1]=a[2]*d[0]-a[0]*d[2];b[2]=a[0]*d[1]-a[1]*d[0];return b};c.math.getScalarVector=function(a,d){var b=0;return b=a[0]*d[0]+a[1]*d[1]+a[2]*d[2]};c.math.getVector=function(a,d){var b=[0,0,0,1];b[0]=d[0]-a[0];b[1]=d[1]-a[1];
b[2]=d[2]-a[2];return b};c.math.multiplyMatrixVector=function(a,d){var b=[0,0,0,1];d[3]||(d[3]=1);b[0]=d[0]*a[0]+d[1]*a[1]+d[2]*a[2]+d[3]*a[3];b[1]=d[0]*a[4]+d[1]*a[5]+d[2]*a[6]+d[3]*a[7];b[2]=d[0]*a[8]+d[1]*a[9]+d[2]*a[10]+d[3]*a[11];b[3]=d[0]*a[12]+d[1]*a[13]+d[2]*a[14]+d[3]*a[15];return b};return c.math});
define(["../../../_amd/core"],function(c){c.ux.history={_historyTimer:null,_historyQueue:[],_historyIndex:0,_historyCheckInterval:100,_historyHandler:null,start:function(){window.location.hash="";this._historyQueue.push({hash:"",id:"main",params:""});if(c.has("hashchange")){this._historyHandler=c.bind(function(){this._check()},this);window.addEventListener("hashchange",this._historyHandler,true)}else this._historyTimer=c.setInterval(this,"_check",this._historyCheckInterval)},stop:function(){if(c.has("hashchange")){window.removeEventListener("hashchange",
this._historyHandler,true);this._historyHandler=null}else clearInterval(this._historyTimer)},push:function(a,d,b){c.isSet(b)||(b=c.getUId());window.location.hash=b;this._historyQueue.splice(this._historyIndex+1,this._historyQueue.length-this._historyIndex-1);this._historyQueue.push({hash:b,id:a,params:d});this._historyIndex=this._historyQueue.length-1},pop:function(a){for(var d=this._historyIndex-1;d>=0;d--)if(this._historyQueue[d]&&this._historyQueue[d].id==a){window.history.back(d-this._historyIndex);
this._historyIndex=d;return}window.history.back(-this._historyIndex);this._historyIndex=0},updateCheckInterval:function(a){if(!c.has("hashchange")){this.stop();this._historyCheckInterval=a;this._historyTimer=c.setInterval(this,"_check",this._historyCheckInterval)}},_check:function(){if(this._historyQueue.length>0)for(var a=window.location.hash.substring(1,window.location.hash.length),d=this._historyQueue.length,b=0;b<d;b++)if(a==this._historyQueue[b].hash&&b!=this._historyIndex){if(b<this._historyIndex)for(a=
this._historyIndex;a>b;a--)c.publish("/history/events/back",{id:this._historyQueue[a-1].id,params:this._historyQueue[a-1].params});else if(b>this._historyIndex)for(a=this._historyIndex;a<b;a++)c.publish("/history/events/forward",{id:this._historyQueue[a+1].id,params:this._historyQueue[a+1].params});this._historyIndex=b;break}}};c.ux.history.start();return c.ux.history});
define(["../../../_amd/core","../../movementtracker/js/movementtracker"],function(c){c.ux.Inertia=function(a){this.uId=c.getUId();this._properties=a;this._movementtracker=null;if(this._validateProperties()!==false){this._initProperties();this._initListeners()}};c.ux.Inertia.prototype={_DIRECTION_X:"x",_DIRECTION_Y:"y",_INTERRUPTION_THRESHOLD:150,_EVENT_INERTIA_COMPUTED:"/inertia/events/inertiacomputed",destroy:function(){this._removeListeners()},_validateProperties:function(){return true},_initProperties:function(){this._movementtracker=
this._properties.movementtracker;delete this._properties},_initListeners:function(){c.subscribe("/movementtracker/events/mvtstored",{context:this,method:"_computeInertia"})},_removeListeners:function(){c.unsubscribe("/movementtracker/events/mvtstored",{context:this,method:"_computeInertia"})},_computeInertia:function(a){if(a.publisher.uId==this._movementtracker.uId){var d=a.movement,b={pointStatement:d.pointStatement},h=this._getSignificantMovement(d,this._DIRECTION_X);d=this._getSignificantMovement(d,
this._DIRECTION_Y);var j=h.pointStatement[0],e=d.pointStatement[0],f=h.pointStatement[h.pointStatement.length-1],g=d.pointStatement[d.pointStatement.length-1];b.dx=Math.abs(f.x-j.x);b.dy=Math.abs(g.y-e.y);b.dtx=f.globalDuration-j.globalDuration;if(b.dtx==0)b.dtx=1;b.dty=g.globalDuration-e.globalDuration;if(b.dty==0)b.dty=1;b.directionX=h.direction;b.directionY=d.direction;b.speedX=b.dx/b.dtx;b.speedY=b.dy/b.dty;c.publish(this._EVENT_INERTIA_COMPUTED,{publisher:this,movement:b,uxEvent:a.uxEvent,target:a.target})}},
_getSignificantMovement:function(a,d){var b=this._extractDirectedMovement(a,d);b=this._extractInterruptedMovement(b[b.length-1]);return b[b.length-1]},_extractDirectedMovement:function(a,d){var b=[],h=a.pointStatement,j=0,e=h[0].directionX;if(d==this._DIRECTION_Y)e=h[0].directionY;for(var f=0;f<h.length;f++){var g=h[f],l=g.directionX;if(d==this._DIRECTION_Y)l=g.directionY;if(e!=l||f==h.length-1){g=f;if(f==h.length-1)g=h.length;j={pointStatement:h.slice(j,g),direction:e};b.push(j);j=f;e=l}}return b},
_extractInterruptedMovement:function(a){for(var d=[],b=a.pointStatement,h=0,j=0,e=0;e<b.length;e++){j+=b[e].duration;var f=e;if(j>this._INTERRUPTION_THRESHOLD||e==b.length-1){if(e==b.length-1&&j<=this._INTERRUPTION_THRESHOLD)f=b.length;j=0;var g=b.slice(h,f);g={pointStatement:g,direction:a.direction};d.push(g);h=e;if(e==b.length-1&&j>this._INTERRUPTION_THRESHOLD){g=b.slice(f,f+1);g={pointStatement:g,direction:a.direction};d.push(g)}}}return d}};return c.ux.Inertia});
define(["../../../_amd/core"],function(c){c.ux.MovementTracker=function(a){this.uId=c.getUId();this._properties=a;this._previousPoint=this._startPoint=this._pointStatement=this._target=null;this._tracking=false;this._acceptEvents=true;this._multitouch=false;this._params={captureFlow:true,preventStart:true,preventMove:false,shiftThreshold:0,trackThresholdX:0,trackThresholdY:0};if(this._validateProperties()!==false){this._initProperties();this._initListeners()}};c.ux.MovementTracker.prototype={updateTrackThresholdX:function(a){if(this._isValidThreshold(a))this._params.trackThresholdX=
a;else this._raisePropertyError("trackThresholdX")},updateTrackThresholdY:function(a){if(this._isValidThreshold(a))this._params.trackThresholdY=a;else this._raisePropertyError("trackThresholdY")},destroy:function(){this._removeListeners()},_validateProperties:function(){return true},_isValidThreshold:function(a){return c.isInteger(a)&&a>=0},_raisePropertyError:function(a){c.log("[MovementTracker] Error: "+a+" missing or invalid")},_initProperties:function(){this._target=c.byId(this._properties.target);
if(this._properties.captureFlow===false)this._params.captureFlow=false;if(this._properties.preventStart===false)this._params.preventStart=false;if(this._properties.preventMove===true)this._params.preventMove=true;if(c.isSet(this._properties.trackThresholdX))this._params.trackThresholdX=this._properties.trackThresholdX;if(c.isSet(this._properties.trackThresholdY))this._params.trackThresholdY=this._properties.trackThresholdY;delete this._properties},_initListeners:function(){c.ux.touch.addListener(this._target,
"start",{context:this,method:"_handleTouchStart"},{preventDefault:this._params.preventStart,captureFlow:this._params.captureFlow});c.ux.touch.addListener(this._target,"move",{context:this,method:"_handleTouchMove"},{preventDefault:this._params.preventMove,captureFlow:this._params.captureFlow});c.ux.touch.addListener(this._target,"end",{context:this,method:"_handleTouchEnd"},{captureFlow:this._params.captureFlow})},_removeListeners:function(){c.ux.touch.removeListener(this._target,"start",{context:this,
method:"_handleTouchStart"});c.ux.touch.removeListener(this._target,"move",{context:this,method:"_handleTouchMove"});c.ux.touch.removeListener(this._target,"end",{context:this,method:"_handleTouchEnd"})},_handleTouchStart:function(a){if(c.ua.isAndroid)if(!this.defered){this.defered=true;if((new Date).getTime()-a.timestamp>100){this._acceptEvents=false;a.preventDefault();var d,b={exec:c.bind(function(){clearTimeout(d);this._acceptEvents=true;this._handleTouchStart(a)},this)};d=c.setTimeout(b,"exec",
0);return}}if(this._acceptEvents!=false){this._multitouch=false;if(a.multitouch==true)this._multitouch=true;else{this._acceptEvents=false;this._pointStatement=[];this._previousPoint=null;this._tracking=false;this._startPoint={x:a.x,y:a.y};b=this._onNewTouch(a);c.publish(b.name,b.params);this._acceptEvents=true}}},_handleTouchMove:function(a){if(this._acceptEvents!=false)if(!this._multitouch){this._acceptEvents=false;a=this._onNewTouch(a);c.publish(a.name,a.params);this._acceptEvents=true}},_handleTouchEnd:function(a){if(this._acceptEvents!=
false)if(!this._multitouch){this._acceptEvents=false;a=this._onNewTouch(a);c.publish(a.name,a.params);this._acceptEvents=true}},_onNewTouch:function(a){if(this._tracking==false)if(this._params.trackThresholdX==0||this._params.trackThresholdY==0)this._tracking=true;else{var d={x:a.x,y:a.y},b=Math.abs(d.x-this._startPoint.x);d=Math.abs(d.y-this._startPoint.y);if(b>this._params.trackThresholdX||d>this._params.trackThresholdY)this._tracking=true}b={name:"/movementtracker/events/notrack",params:{publisher:this,
uxEvent:a,target:this._target}};if(this._tracking==false)return b;if(this._pointStatement.length==0)b.name="/movementtracker/events/mvtbegin";else if(a.type=="move")b.name="/movementtracker/events/mvtchanged";else if(a.type=="end")b.name="/movementtracker/events/mvtstored";this._addTouch(a);b.params.movement=this._getCurrentMovement();return b},_addTouch:function(a){a={x:a.x,y:a.y,timestamp:a.timestamp};var d=0,b=0,h=0,j=0,e=0,f=0;if(this._previousPoint==null){a.duration=0;a.globalDuration=0;d=a.x;
b=a.y}else{d=this._previousPoint.x;b=this._previousPoint.y;h=this._previousPoint.globalDx;j=this._previousPoint.globalDy;e=this._previousPoint.directionX;f=this._previousPoint.directionY;a.duration=a.timestamp-this._previousPoint.timestamp;a.globalDuration=a.duration+this._previousPoint.globalDuration}a.dx=Math.abs(a.x-d);a.dy=Math.abs(a.y-b);a.globalDx=a.dx+h;a.globalDy=a.dy+j;a.directionX=e;a.directionY=f;if(e==0&&this._previousPoint!=null){if(a.x<d)a.directionX=-1;else if(a.x>d)a.directionX=1;
this._previousPoint.directionX=a.directionX}if(f==0&&this._previousPoint!=null){if(a.y<b)a.directionY=-1;else if(a.y>b)a.directionY=1;this._previousPoint.directionY=a.directionY}if(e>0&&a.x+this._params.shiftThreshold<d)a.directionX=-1;else if(e<0&&a.x-this._params.shiftThreshold>d)a.directionX=1;if(f>0&&a.y+this._params.shiftThreshold<b)a.directionY=-1;else if(f<0&&a.y-this._params.shiftThreshold>b)a.directionY=1;this._pointStatement.push(a);this._previousPoint=a},_getCurrentMovement:function(){var a=
this._pointStatement[this._pointStatement.length-1];return{pointStatement:this._pointStatement,duration:a.globalDuration,dx:a.globalDx,dy:a.globalDy}}};return c.ux.MovementTracker});
define(["../../../_amd/core"],function(c){c.ux.window={height:null,width:null,fullHeight:null,fullWidth:null,screenHeight:screen.height,screenWidth:screen.width,orientation:null,_i:null,_V:"vertical",_H:"horizontal",_init:function(){var a=c.bind(this._updateData,this);"onorientationchange"in window?window.addEventListener("orientationchange",a,true):window.addEventListener("resize",a,true);if(c.ua.isAndroid){scrollTo(0,1,0);this._i=setInterval(a,1E3)}else window.addEventListener("scroll",a,true);
a()},_updateData:function(){var a=window.innerWidth,d=window.innerHeight,b=false;if(this.width+2<a||this.width-2>a||this.height+2<d||this.height-2>d)b=true;this._updateSize();this._updateOrientation();b&&c.publish("/window/events/resize",{height:d,width:a,orientation:this.orientation})},_updateSize:function(){this.height=window.innerHeight;this.width=window.innerWidth;try{this.fullHeight=document.body.scrollHeight;this.fullWidth=document.body.scrollWidth}catch(a){}},_updateOrientation:function(){var a;
a=c.isSet(window.orientation)&&c.ua.isIOS?Math.abs(window.orientation)==90?this._H:this._V:this.width>this.height?this._H:this._V;if(a!=this.orientation){this.orientation=a;c.publish("/window/events/orientationchange",{height:this.height,width:this.width,orientation:a})}}};window.addEventListener("DOMContentLoaded",function(){c.ux.window._init()},false);c.ux.Window=function(){this.getProperties=function(){return{screenWidth:c.ux.window.screenWidth,screenHeight:c.ux.window.screenHeight,width:c.ux.window.width,
height:c.ux.window.height,orientation:c.ux.window.orientation}}};return c.ux.window});
define(["../../../../_amd/core","../../../../math/_geometric/js/geometric"],function(c){c.ui.xy.CSpinner=function(e){this.uId=c.getUId();this._domNode=null;c.mixin(this,e);if(this._validateProperties()!==false){this._initProperties();this._initDom()}};c.ui.xy.CSpinner.prototype={getDomNode:function(){return this._domNode},toggle:function(){this._timer?this._stopRendering():this._startRendering()},_startRendering:function(){if(!this._timer)this._timer=c.setInterval(this,"_render",this.refreshRate)},
_stopRendering:function(){clearInterval(this._timer);this._timer=null},_render:function(){this._ctx.clearRect(0,0,this.size,this.size);var e=this._ctx,f=this._cx,g=this._cy,l=this._r1,o=this._r2,r=this.count,m=this.space,k=this.linewidth,n=this._grdcolors,p=this.linecolor,q,s,t=(360-m*r)/r,v=0;q=0;for(s=r-this._position-1;q<r;q++){s=(s+1)%r;var w=e,u=f,z=g,B=l,D=o,x=v,y=v+t,E=k,C=n[s],F=p;w.beginPath();var A=b(u,z,B,x);w.moveTo(A.x,A.y);A=void 0;A=y>x?false:true;w.arc(u,z,B,d(x-90),d(y-90),A);A=b(u,
z,D,y);w.lineTo(A.x,A.y);A=void 0;A=x>y?false:true;w.arc(u,z,D,d(y-90),d(x-90),A);A=b(u,z,B,x);w.lineTo(A.x,A.y);w.closePath();b(u,z,B,x+Math.abs(y-x)/2);b(u,z,D,x+Math.abs(y-x)/2);w.fillStyle=C;w.fill();if(E>0){w.lineWidth=E;w.strokeStyle=F||"transparent";w.stroke()}v+=t+m}this._position=(this._position+1)%this.count},_validateProperties:function(){return true},_initDom:function(){var e=this._domNode=document.createElement("canvas");c.fx.translate(e,0,0);this._ctx=e.getContext("2d");e.width=this.size;
e.height=this.size;this._render();this._startRendering()},_initProperties:function(){var e=this,f=function(g,l){if(e[g]!==0)e[g]=e[g]||l};f("size",25);f("fromcolor","#ccc");f("tocolor","#000");f("stopcolor",0.4);f("linecolor",null);f("radius",7);f("thickness",5);f("count",Math.floor(e.radius*1.5));f("space",10);f("linewidth",1);f("refreshRate",40);e._cx=e.size/2;e._cy=e.size/2;e._r1=e.radius;e._r2=e._r1+e.thickness;e._timer=null;e._grdcolors=h(e.fromcolor,e.tocolor,e.stopcolor,e.count);e._position=
0}};var a=c.math.round,d=c.math.degToRad,b=function(e,f,g,l){return{x:e+g*Math.cos(d(l-90)),y:f+g*Math.sin(d(l-90))}},h=function(e,f,g,l){e=j(e)||{r:0,g:0,b:0,a:1};f=j(f)||{r:255,g:255,b:255,a:1};var o=[],r,m,k=1,n=1/l,p=0;for(m=r=0;r<l;r++,m+=n){var q={r:e.r*k+(1-k)*f.r,g:e.g*k+(1-k)*f.g,b:e.b*k+(1-k)*f.b,a:e.a*k+(1-k)*f.a};o.push("rgba("+a(q.r,0)+","+a(q.g,0)+","+a(q.b,0)+","+a(q.a,2)+")");if(p==0&&m>=g)p=1/(l-r);k-=p;if(r==l-2)k=0}return o},j=function(e){var f=null,g=null;if(!f)if(f=/^#?([a-fA-F0-9]{1,2})([a-fA-F0-9]{1,2})([a-fA-F0-9]{1,2})$/.exec(e)){for(g=
1;g<4;g++)f[g]=f[g].length==1?f[g]+f[g]:f[g];g={r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),a:1}}if(!f)if(f=/[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)?/.exec(e))g={r:f[1],g:f[2],b:f[3],a:f[4]||1};return g};return c.ui.xy.CSpinner});
define(["../../../../_amd/core","../../../../ux/inertia/js/inertia"],function(c){c.ui.layout.Scroller=function(a){this.uId=c.getUId();this._direction=this._target=null;this._captureFlow=true;this._view={x:0,y:0,viewportSizeX:0,viewportSizeY:0,sizeX:0,sizeY:0,limitX:0,limitY:0,shiftOriginY:0,shiftLimitY:0,scrollbars:{x:null,y:null,active:true,width:null,backgroundColor:null,borderColor:null,opacityTransition:null},autoRefreshOptions:{active:false,checkDelay:1E3,handler:null},timerSize:null};this._scroll=
{canScrollX:false,canScrollY:false,mustScrollX:false,mustScrollY:false,friction:14,acceleration:-0.00126,minSpeed:0.05};this._transition={duration:0,delay:0,func:"cubic-bezier(0.1, 0.2, 0.5, 1)",endHandler:null};this._callbacks={scrollerTouched:null,scrollerClicked:null,startScrolling:null,scrolling:null,endScrolling:null,startSliding:null,stopSliding:null};this._inertia=this._movementtracker=null;this._activated=true;this._animated=this._moveOutside=false;this._selectionEvent=null;this._updateContext(a)};
c.ui.layout.Scroller.prototype={_DIRECTION_X:"x",_DIRECTION_Y:"y",_DIRECTION_XY:"xy",updateTargetSize:function(a,d,b){if(this._view.timerSize==null)if(b===true&&this._view.timerSize==null){this._refreshTargetSize(a,d,false);this._view.timerSize=c.setTimeout(this,"_refreshTargetSize",this._view.autoRefreshOptions.checkDelay,a,d,b)}else this._refreshTargetSize(a,d,b)},updateViewportSize:function(a,d){var b=this._target.parentNode.clientWidth,h=this._target.parentNode.clientHeight;if(c.isSet(a))b=a;
if(c.isSet(d))h=d;if(this._view.viewportSizeX!=b||this._view.viewportSizeY!=h){this._setViewportSize(b,h);this._refreshView()}},updateShiftBounds:function(a,d){var b=false;if(a!=this._view.shiftOriginY){this._view.shiftOriginY=a;if(this._view.y==0)this._view.y=a;b=true}if(d!=this._view.shiftLimitY){this._view.shiftLimitY=d;b=true}if(b){this._refreshView();this._backToBounds()}},autoRefresh:function(a){if(c.isSet(a.checkDelay)&&a.checkDelay>=0)this._view.autoRefreshOptions.checkDelay=a.checkDelay;
if(c.isSet(a.active)&&this._view.autoRefreshOptions.active!==a.active){this._view.autoRefreshOptions.active=a.active;this._listenToContentChanges(a.active)}},scrollTo:function(a,d,b){this._slideTo(a,d,{duration:b})},backToBounds:function(){this._backToBounds()},getPosition:function(){return{x:this._view.x,y:this._view.y}},getViewProperties:function(){return this._view},enable:function(){this._activated=true},disable:function(){this._activated=false},destroy:function(){this._removeListeners();this._movementtracker.destroy();
delete this._movementtracker;this._inertia.destroy();delete this._inertia;this._removeScrollbars(true,true);for(var a in this._callbacks)this._callbacks[a]=null;if(this._view.timerSize!=null){clearTimeout(this._view.timerSize);this._view.timerSize=null}c.fx.apply(this._target,{"user-select":""});c.fx.applyTransition(this._target,"","","","");c.fx.setTransform(this._target,"");this._target=null},changeContext:function(a){this.destroy();this._updateContext(a)},_setTargetSize:function(a,d){this._view.sizeX=
a;this._view.sizeY=d},_setViewportSize:function(a,d){this._view.viewportSizeX=a;this._view.viewportSizeY=d},_updateContext:function(a){this._properties=a;if(this._validateProperties()!==false){this._initProperties();this._initListeners();this._slideTo(0,0);this._refreshView()}},_validateProperties:function(){return true},_raisePropertyError:function(a){c.log("[Scroller] Error: "+a+" missing or invalid")},_initProperties:function(){this._target=c.byId(this._properties.target);c.fx.apply(this._target,
{"user-select":"none"});if(c.isSet(this._properties.shiftOriginY))this._view.shiftOriginY=this._properties.shiftOriginY;if(c.isSet(this._properties.shiftLimitY))this._view.shiftLimitY=this._properties.shiftLimitY;this._setTargetSize(this._target.offsetWidth,this._target.offsetHeight);this._setViewportSize(this._target.parentNode.clientWidth,this._target.parentNode.clientHeight);this._direction=this._properties.direction;if(this._direction==this._DIRECTION_X||this._direction==this._DIRECTION_XY)this._scroll.mustScrollX=
true;if(this._direction==this._DIRECTION_Y||this._direction==this._DIRECTION_XY)this._scroll.mustScrollY=true;if(this._properties.captureFlow===false)this._captureFlow=false;if(c.isSet(this._properties.callbacks))for(var a in this._callbacks){var d=this._properties.callbacks[a];if(c.isSet(d))this._callbacks[a]=d}if(c.isSet(this._properties.scrollbars))for(a in this._view.scrollbars){d=this._properties.scrollbars[a];if(c.isSet(d))this._view.scrollbars[a]=d}a=this._properties.friction;if(c.isSet(a)&&
c.isInteger(a)){this._scroll.friction=Math.max(Math.min(a,100),1);this._scroll.acceleration=Math.min(-9.0E-5*this._scroll.friction,-1.0E-4);this._scroll.minSpeed=Math.sqrt(Math.abs(this._scroll.acceleration*2))}delete this._properties},_initListeners:function(){this._movementtracker=new c.ux.MovementTracker({target:this._target,captureFlow:this._captureFlow,preventStart:false,preventMove:false,trackThresholdX:5,trackThresholdY:5});c.subscribe("/movementtracker/events/notrack",{context:this,method:"_handleTouchNotTracked"});
c.subscribe("/movementtracker/events/mvtbegin",{context:this,method:"_handleMovementBegin"});c.subscribe("/movementtracker/events/mvtchanged",{context:this,method:"_handleMovementChanged"});this._inertia=new c.ux.Inertia({movementtracker:this._movementtracker});c.subscribe("/inertia/events/inertiaComputed",{context:this,method:"_handleMovementStored"});this._transition.endHandler=c.fx.onTransitionEnd(this._target,c.bind(this._handleTransitionEnd,this),true)},_removeListeners:function(){c.unsubscribe("/movementtracker/events/notrack",
{context:this,method:"_handleTouchNotTracked"});c.unsubscribe("/movementtracker/events/mvtbegin",{context:this,method:"_handleMovementBegin"});c.unsubscribe("/movementtracker/events/mvtchanged",{context:this,method:"_handleMovementChanged"});c.unsubscribe("/inertia/events/inertiaComputed",{context:this,method:"_handleMovementStored"});this._target.removeEventListener(c.has.prop("transitionend"),this._transition.endHandler,false);this._transition.endHandler=null;this._listenToContentChanges(false)},
_listenToContentChanges:function(a){if(a){var d=this._view.autoRefreshOptions.checkDelay>0;this._view.autoRefreshOptions.handler=c.bind(function(){var b=this._target.offsetHeight;if(this._view.sizeX!=this._target.offsetWidth||this._view.sizeY!=b)this.updateTargetSize(null,null,d)},this);this._target.addEventListener("DOMSubtreeModified",this._view.autoRefreshOptions.handler,false)}else if(this._view.autoRefreshOptions.handler!=null){this._target.removeEventListener("DOMSubtreeModified",this._view.autoRefreshOptions.handler,
false);this._view.autoRefreshOptions.handler=null}},_refreshTargetSize:function(a,d,b){this._view.timerSize!=null&&clearTimeout(this._view.timerSize);var h=this._target.offsetWidth,j=this._target.offsetHeight;if(c.isSet(a))h=a;if(c.isSet(d))j=d;this._view.timerSize=null;if(this._view.sizeX!=h||this._view.sizeY!=j){this._setTargetSize(h,j);this._refreshView();if(b===true)this._view.timerSize=c.setTimeout(this,"_refreshTargetSize",this._view.autoRefreshOptions.checkDelay,a,d,b)}},_refreshView:function(){var a=
this._scroll.canScrollX,d=this._scroll.canScrollY;if(this._view.sizeX>this._view.viewportSizeX){this._view.limitX=this._view.viewportSizeX-this._view.sizeX;this._scroll.canScrollX=true}else{this._view.limitX=0;this._scroll.canScrollX=false}var b=this._view.sizeY-(this._view.shiftOriginY+this._view.shiftLimitY);if(b>this._view.viewportSizeY){this._view.limitY=this._view.viewportSizeY-b;this._scroll.canScrollY=true}else{this._view.limitY=0;this._scroll.canScrollY=false}this._scroll.canScrollX?this._movementtracker.updateTrackThresholdX(5):
this._movementtracker.updateTrackThresholdX(999);this._scroll.canScrollY?this._movementtracker.updateTrackThresholdY(5):this._movementtracker.updateTrackThresholdY(999);if(a!=this._scroll.canScrollX)if(this._view.x!=0){this._view.x=0;this._slideTo(null,null,{backToBound:true,duration:1})}if(d!=this._scroll.canScrollY)if(this._view.y!=0){this._view.y=0;this._slideTo(null,null,{backToBound:true,duration:1})}if(this._view.scrollbars.active==true){if(this._scroll.canScrollX&&this._scroll.mustScrollX){a=
this._view.scrollbars.x;if(a==null)a=this._view.scrollbars.x=new c.ui.layout.Scroller.Scrollbar({direction:"x",width:this._view.scrollbars.width,backgroundColor:this._view.scrollbars.backgroundColor,borderColor:this._view.scrollbars.borderColor,opacityTransition:this._view.scrollbars.opacityTransition});a.updateSize(this._view.viewportSizeX,this._view.sizeX);this._target.parentNode.appendChild(a.getDomNode())}else this._removeScrollbars(true,false);if(this._scroll.canScrollY&&this._scroll.mustScrollY){a=
this._view.scrollbars.y;if(a==null)a=this._view.scrollbars.y=new c.ui.layout.Scroller.Scrollbar({direction:"y",width:this._view.scrollbars.width,backgroundColor:this._view.scrollbars.backgroundColor,borderColor:this._view.scrollbars.borderColor,opacityTransition:this._view.scrollbars.opacityTransition});a.updateSize(this._view.viewportSizeY,b);this._target.parentNode.appendChild(a.getDomNode())}else this._removeScrollbars(false,true);b={timeout:null,hide:function(h){clearTimeout(this.timeout);h._hideScrollbars()}};
b.timeout=c.setTimeout(b,"hide",1E3,this)}},_removeScrollbars:function(a,d){if(a==true&&this._view.scrollbars.x!=null){this._target.parentNode.removeChild(this._view.scrollbars.x.getDomNode());this._view.scrollbars.x=null}if(d==true&&this._view.scrollbars.y!=null){this._target.parentNode.removeChild(this._view.scrollbars.y.getDomNode());this._view.scrollbars.y=null}},_handleTouchNotTracked:function(a){if(a.publisher.uId==this._movementtracker.uId){a=a.uxEvent;a.type=="start"&&c.isSet(this._callbacks.scrollerTouched)&&
c.call(this._callbacks.scrollerTouched,{uxEvent:a});if(this._activated!=false){a.preventDefault();a.stopPropagation();if(a.type=="start"){this._selectionEvent=null;if(this._animated==false)this._selectionEvent=a;a=this._getInstantPosition();if(!this._isAtPosition(a.x,a.y)){c.isSet(this._callbacks.stopSliding)&&c.call(this._callbacks.stopSliding,{});this._slideTo(a.x,a.y)}}else if(a.type=="end"){this._backToBounds();this._hideScrollbars();if(c.isSet(this._selectionEvent)){var d=0;if(!this._scroll.canScrollX&&
!this._scroll.canScrollY){var b=this._selectionEvent;d=a.x-b.x;b=a.y-b.y;d=Math.sqrt(d*d+b*b)}if(d<5){c.isSet(this._callbacks.scrollerClicked)&&c.call(this._callbacks.scrollerClicked,{uxEvent:a});this._handleSelection(a)}}}}}},_handleMovementBegin:function(a){if(a.publisher.uId==this._movementtracker.uId)if(this._activated!=false){a=a.uxEvent;a.preventDefault();a.stopPropagation();c.isSet(this._callbacks.startScrolling)&&c.call(this._callbacks.startScrolling,{uxEvent:a});c.isSet(this._view.autoRefreshOptions.handler)&&
this._view.autoRefreshOptions.handler()}},_handleSelection:function(a){var d=this._getProperEventTarget(a),b=d.tagName,h=d.type,j,e;if(c.isSet(b)){j=b.toLowerCase();e=(b=j=="input"&&h?h.toLowerCase()=="text":false)||j=="textarea"}if(e||j=="select")d.focus();c.has("touch")&&a.dispatch(d,"click")},_getProperEventTarget:function(a){var d=a.target;if(a.target.nodeType==3)d=d.parentNode;return d},_handleMovementChanged:function(a){if(a.publisher.uId==this._movementtracker.uId)if(this._activated!=false){a.uxEvent.stopPropagation();
var d=a.movement,b=d.pointStatement[d.pointStatement.length-2];d=d.pointStatement[d.pointStatement.length-1];var h=d.x-b.x;b=d.y-b.y;var j=this._view.y;if(j>0)j-=this._view.shiftOriginY;else if(j<this._view.limitY)j+=this._view.shiftLimitY;this._moveOutside=false;j=this._getBoundsInfos(this._view.x,j);if(j.outsideOfBoundsX)if(j.directionX>0&&d.directionX>0||j.directionX<0&&d.directionX<0){h/=3;this._moveOutside=true}if(j.outsideOfBoundsY)if(j.directionY>0&&d.directionY>0||j.directionY<0&&d.directionY<
0){b/=3;this._moveOutside=true}d=this._view.x+c.math.round(h,0);h=this._view.y+c.math.round(b,0);this._slideTo(d,h);c.isSet(this._callbacks.scrolling)&&c.call(this._callbacks.scrolling,{uxEvent:a.uxEvent})}},_handleMovementStored:function(a){if(a.publisher.uId==this._inertia.uId)if(this._activated!=false){c.isSet(this._callbacks.endScrolling)&&c.call(this._callbacks.endScrolling,{uxEvent:a.uxEvent});a=a.movement;this._interpretInertia(a);if(!this._moveOutside&&!this._isAtPosition(a.destX,a.destY))this._slideTo(a.destX,
a.destY,{duration:a.duration,speed:a.speed});else{this._backToBounds();this._hideScrollbars()}}},_interpretInertia:function(a){var d=this._scroll.canScrollX&&this._scroll.mustScrollX,b=this._scroll.canScrollY&&this._scroll.mustScrollY,h=c.math.round(this._view.viewportSizeX/3,1),j=c.math.round(this._view.viewportSizeY/3,1),e=this._scroll.acceleration,f=this._scroll.minSpeed,g=a.speedX,l=a.speedY;g=g<f?0:g;l=l<f?0:l;f=-(g*g)/(2*e);var o=-(l*l)/(2*e),r=-g/e;e=-l/e;d||(f=r=0);b||(o=e=0);var m=this._getBoundsInfos(this._view.x+
f*a.directionX,this._view.y+o*a.directionY);if(m.outsideOfBoundsX&&m.distanceToBoundX>h){h=m.distanceToBoundX-h;var k=h/f;f-=h;r-=k*r}if(m.outsideOfBoundsY&&m.distanceToBoundY>j){h=m.distanceToBoundY-j;k=h/o;o-=h;e-=k*e}a.destX=this._view.x+c.math.round(f*a.directionX,0);a.destY=this._view.y+c.math.round(o*a.directionY,0);r=Math.max(c.math.round(r,0),1);e=Math.max(c.math.round(e,0),1);a.duration=e;a.speed=c.math.round(l,3);if(d&&!b||d&&b&&r>e){a.duration=r;a.speed=c.math.round(g,3)}},_handleTransitionEnd:function(){if(this._animated==
true){this._animated=false;c.isSet(this._callbacks.stopSliding)&&c.call(this._callbacks.stopSliding,{});var a=0;if(this._backToBounds())a=350;this._hideScrollbars(a)}},_backToBounds:function(){var a=this._getBoundsInfos(this._view.x,this._view.y);if(a.outsideOfBounds){var d=this._view.x,b=this._view.y;if(a.outsideOfBoundsX)d=a.positionOfBoundX;if(a.outsideOfBoundsY)b=a.positionOfBoundY;this._slideTo(d,b,{backToBound:true});return true}return false},_getBoundsInfos:function(a,d){var b={outsideOfBoundsX:false,
outsideOfBoundsY:false,distanceToBoundX:0,distanceToBoundY:0};if(a>0||a<this._view.limitX){b.outsideOfBoundsX=true;if(a>0){b.distanceToBoundX=Math.abs(a);b.directionX=1;b.positionOfBoundX=0}else{b.distanceToBoundX=Math.abs(a-this._view.limitX);b.directionX=-1;b.positionOfBoundX=this._view.limitX}}if(d>0||d<this._view.limitY){b.outsideOfBoundsY=true;if(d>0){b.distanceToBoundY=Math.abs(d);b.directionY=1;b.positionOfBoundY=0}else{b.distanceToBoundY=Math.abs(d-this._view.limitY);b.directionY=-1;b.positionOfBoundY=
this._view.limitY}}b.outsideOfBounds=b.outsideOfBoundsX||b.outsideOfBoundsY;return b},_isAtPosition:function(a,d){if(this._view.x==a&&this._view.y==d)return true;return false},_slideTo:function(a,d,b){var h=b&&b.duration?b.duration:0,j=b&&b.speed?b.speed:0;b=b&&b.backToBound?b.backToBound:false;this._transition.duration=h;if(h>=1){this._animated=true;c.isSet(this._callbacks.startSliding)&&c.call(this._callbacks.startSliding,{duration:h,speed:j})}else this._animated=false;h=h+"ms";j=this._transition.delay+
"ms";var e=this._transition.func;if(b){h="350ms";e="cubic-bezier(0.3, 0.1, 1.0, 0.5)"}c.fx.applyTransformTransition(this._target,h,j,e);if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.applyTransition(h,j,e);this._view.scrollbars.y!=null&&this._view.scrollbars.y.applyTransition(h,j,e)}this._translateTo(a,d)},_getInstantPosition:function(){var a=c.fx.getTransformPosition(this._target);a.y+=this._view.shiftOriginY;return a},_translateTo:function(a,d){var b=
this._view.x,h=this._view.y;if(c.isSet(a)&&this._scroll.canScrollX&&this._scroll.mustScrollX)b=a;if(c.isSet(d)&&this._scroll.canScrollY&&this._scroll.mustScrollY)h=d;this._view.x=parseInt(b);this._view.y=parseInt(h);c.fx.translate(this._target,this._view.x,this._view.y-this._view.shiftOriginY);if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.updatePosition(this._view.x,this._view.y);this._view.scrollbars.y!=null&&this._view.scrollbars.y.updatePosition(this._view.x,
this._view.y)}},_hideScrollbars:function(a){if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.hide(a);this._view.scrollbars.y!=null&&this._view.scrollbars.y.hide(a)}}};c.ui.layout.Scroller.Scrollbar=function(a){this.uId=c.getUId();this._properties=a;this._direction=null;this._backgroundColor="rgba(0, 0, 0, 0.55)";this._borderColor="rgba(0, 0, 0, 0.2)";this._opacityTransition=true;this._view={x:0,y:0,viewportSize:0,contentSize:0,size:0,width:0,ratioSize:0,
ratioPosition:0,ratioBounce:0,borderSize:1,availableSpace:0,showed:true};this._transition={duration:"",delay:"",func:""};this._ctx=this._canvasNode=this._domNode=null;this._firstHide=true;if(this._validateProperties()!==false){this._initProperties();this._initDom()}};c.ui.layout.Scroller.Scrollbar.prototype={_DEFAULT_WIDTH:5,getDomNode:function(){return this._domNode},updateSize:function(a,d){var b=0,h=0;this._view.viewportSize=a-this._view.borderSize*2;this._view.contentSize=d;if(a<d){this._view.ratioSize=
this._view.viewportSize/this._view.contentSize;this._view.ratioSize*=0.11*(this._view.contentSize/this._view.viewportSize)+0.89}else this._view.ratioSize=1;b=h=this._view.ratioSize*this._view.viewportSize;if(this._direction=="y")b=this._view.width;else h=this._view.width;this._resize(b,h);this._view.availableSpace=this._view.viewportSize-this._view.size;this._view.ratioPosition=this._view.availableSpace/(this._view.contentSize-this._view.viewportSize);this._view.ratioBounce=0.0010*this._view.contentSize+
3},updatePosition:function(a,d){this._view.showed==false&&this.show();var b=0,h=0,j=this._view.availableSpace;if(this._direction=="y"){h=-d*this._view.ratioPosition;if(h<0||h>j)h=h<0?Math.max(h+h*this._view.ratioBounce,-this._view.size+5):Math.min(h+(h-j)*this._view.ratioBounce,this._view.viewportSize-5)}else{b=-a*this._view.ratioPosition;if(b<0||b>j)b=b<0?Math.max(b+b*this._view.ratioBounce,-this._view.size+5):Math.min(b+(b-j)*this._view.ratioBounce,this._view.viewportSize-5)}this._translateTo(b,
h)},show:function(){if(this._view.showed!=true){this._view.showed=true;c.fx.applyTransition(this._canvasNode,"opacity","0ms","0ms","default");this._canvasNode.style.opacity=1}},hide:function(a){if(this._view.showed!=false){this._view.showed=false;if(this._opacityTransition==true){var d=300;if(c.isSet(a))d+=a;if(this._firstHide){this._firstHide=false;d+=600}d+="ms";c.fx.applyTransition(this._canvasNode,"opacity","200ms",d,"default")}this._canvasNode.style.opacity=0}},applyTransition:function(a,d,b){var h=
false;if(h=(h=(h=h||a!=this._transition.duration)||d!=this._transition.delay)||b!=this._transition.func){this._transition.duration=a;this._transition.delay=d;this._transition.func=b;c.fx.applyTransformTransition(this._domNode,a,d,b)}},_validateProperties:function(){return true},_raisePropertyError:function(a){c.log("[Scrollbar] Error: "+a+" missing or invalid")},_initProperties:function(){this._direction=this._properties.direction;this._view.width=this._DEFAULT_WIDTH;if(c.isSet(this._properties.width))this._view.width=
this._properties.width;if(c.isSet(this._properties.borderColor))this._borderColor=this._properties.borderColor;if(c.isSet(this._properties.backgroundColor))this._backgroundColor=this._properties.backgroundColor;if(c.isSet(this._properties.opacityTransition))this._opacityTransition=this._properties.opacityTransition},_initDom:function(){var a=this._domNode=document.createElement("div"),d=this._canvasNode=document.createElement("canvas");this._ctx=d.getContext("2d");a.appendChild(d);var b={position:"absolute",
"pointer-events":"none",opacity:1};if(this._direction=="y"){b.top="0px";b.right="1px"}else{b.bottom="2px";b.left="0px"}c.fx.apply(a,b);c.fx.apply(d,{position:"absolute"});c.fx.translate(d,0,0)},_drawbar:function(){var a=this._direction=="y",d=this._ctx,b=a?this._view.width/2:this._view.width/2+1,h=a?this._view.width/2+1:this._view.width/2,j=a?this._view.width:this._view.size-1,e=a?this._view.size-1:this._view.width,f=a?j/2:e/2;d.fillStyle=this._backgroundColor;d.strokeStyle=this._borderColor;d.lineWidth=
this._view.borderSize;d.beginPath();if(a){d.arc(b,h,f,Math.PI,0,false);d.lineTo(b+f,e-f);d.arc(b,e-f,f,0,Math.PI,false);d.lineTo(b-f,h)}else{d.arc(b,h,f,Math.PI/2,3*Math.PI/2,false);d.lineTo(j-f,h-f);d.arc(j-f,h,f,3*Math.PI/2,Math.PI/2,false);d.lineTo(b,h+f)}d.closePath();d.fill();d.stroke()},_resize:function(a,d){this._view.size=this._direction=="y"?d:a;var b=this._canvasNode;this._ctx.clearRect(0,0,b.width,b.height);c.fx.apply(this._domNode,{width:a+1+"px",height:d+"px"});b.width=a;b.height=d;this._drawbar()},
_translateTo:function(a,d){this._view.x=a;this._view.y=d;c.fx.translate(this._domNode,a,d)}};return c.ui.layout.Scroller});
