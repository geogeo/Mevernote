<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>WINK</title>
		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		
		<!-- THEME UTILITY -->
		<link rel="stylesheet" href="./_themes/utils/loader.css" type="text/css">
		<!-- END THEME UTILITY -->
		
		<style>
			.brand_logo 
			{
				position: absolute;
				top: 5px;
				left: 2px;
			}
			
			.brand_logo_img 
			{
				
				display: inline;
				height: 32px;
				width: 67px
			}
			
			.w_list_item .unavailable
			{
				color: #a1a1a1;
			}
			
			.subtitle
			{
				text-align: center;
			}
			
			.new
			{
				position: absolute;
				
				top: 0;
				left: 0;
			}
		</style>
		
		<!-- THEME UTILITY -->
		<script type="text/javascript" src="./_themes/utils/loader.js"></script>
		<!-- END THEME UTILITY -->
		
		<!-- CORE -->
		<!-- <\!-- Can be replaced by wink.min.js -\-> -->
    <script type="text/javascript" src="./wink_1.4.2.min.js"></script>
	<script type="text/javascript" src="./wink/api/storage/js/storage.js"></script>
		<script type="text/javascript" src="./wink/api/storage/js/safaridb.js"></script>
		<script type="text/javascript" src="./wink/api/storage/js/gearsdb.js"></script>
		
		<!-- <script type="text/javascript" src="./_base/_feat/js/feat_api.js"></script> -->
		<!-- <script type="text/javascript" src="./_base/_feat/js/feat_graphic.js"></script> -->
		
		<script>
			var mevernote = {};	
			var storage;

			// Database descriptor
			descriptor =
			{
				name : 'notesdb',
				tables :
				{
					note :
					{
						title : wink.api.storage.fieldtypes.TEXT,
						markdown : wink.api.storage.fieldtypes.TEXT,

					}

				}
			}

			showNote = function(id)
			{
				
				
			}
			onNotesList = function(mevernote)
			{
				if (mevernote.length > 0) 
				{
					var sectionNode = document.createElement('div');
					wink.addClass(sectionNode, 'w_list w_border w_radius');
					
					var title = document.createElement('li');
					wink.addClass(title, 'w_list_item w_list_header w_border_bottom w_bg_dark');
					title.innerHTML = 'Notes List';

					wink.byId('mevernote').appendChild(sectionNode);
					sectionNode.appendChild(title);
					for(var i=0; i<mevernote.length; i++)
					{
						var node = document.createElement('li')
						wink.addClass(node,'w_list_item w_border_bottom w_bg_light');
						node.innerHTML = '<a href="#" onclick="showNote('+mevernote[i].id+')"><label>'+mevernote[i].title+'</label></a>';
						sectionNode.appendChild(node);
					}
				} else 
				{
					// var node = document.createElement('li')
					// wink.addClass(node,'w_list_item w_border_bottom w_bg_light');
					// node.innerHTML = "<label>"+mevernote[i].title+"</label>";
					// sectionNode.appendChild(node);
					console.log('empty')
				}

			}
			addNewNote = function(title,markdown)
			{
				storage.insert('note', {title:'title',markdown:'markdown'});
			}
			var init = function()
			{
				wink.byId(theme + '_theme').checked = true;
				storage = new wink.api.Storage();	
				storage.connect(descriptor);
				storage.getList('note', {context: null, method: 'onNotesList'});
				var pageId = wink.ua.isIE ? 'page_ie' : null;
				
				
				var os = wink.ua.osVersion;
				var osm = wink.ua.osMinorVersion;
				
				if (wink.ua.isMobile && !wink.has('touch'))
				{
					disableTestPage('carousel');
					disableTestPage('coverflow');
					disableTestPage('cube');
					disableTestPage('dnd');
					disableTestPage('gesturerecognizer');
					disableTestPage('inertia');
					disableTestPage('movementtracker');
					disableTestPage('scroller');
					disableTestPage('scrolltorefresh');
					disableTestPage('scrolltoload_s');
					disableTestPage('sharingwheel');
					disableTestPage('tabcontainer');
					disableTestPage('tagcloud');
					disableTestPage('toggle');
					disableTestPage('trace');
					disableTestPage('wall');
				}
				
				if ( !wink.has('transitionend'))
				{
					disableTestPage('animation');
					disableTestPage('newsticker');
					disableTestPage('scroller');
					disableTestPage('scrolltorefresh');
					disableTestPage('scrolltoload_s');
					disableTestPage('slidingpanels');
				}
				
				if ( !wink.has('css-perspective'))
				{
					disableTestPage('animation3d');
					disableTestPage('coverflow');
					disableTestPage('cube');
					disableTestPage('flippage');
					disableTestPage('flipdisc');
					disableTestPage('opener');
					disableTestPage('wall');
					disableTestPage('windows');
				}
				
				if ( !wink.has('gesture'))
				{
					disableTestPage('animationGesture');
					disableTestPage('gesture');
				}
				
				if ( !wink.has('canvas') )
				{
					disableTestPage('slideshow');
					disableTestPage('cspinner');
					disableTestPage('trace');
				}
				
				if ( !wink.has('native-geolocation'))
				{
					disableTestPage('geolocation');
				}
				
				if ( !wink.has('native-device-orientation'))
				{
					disableTestPage('deviceorientation');
				}
				
				if ( !wink.has('native-device-motion'))
				{
					disableTestPage('devicemotion');
				}

				// iOS
				if (wink.ua.isIOS || (wink.ua.isBlackBerry && wink.ua.browserVersion >= 7 ) || (wink.ua.isAndroid && wink.ua.osVersion >= 3 ) || wink.ua.isTizen)
				{
					var ipod_or_iphone = (wink.ua.isIPhone || wink.ua.isIPod);
					var ipad = wink.ua.isIPad;
					
					// Iphone 4.0
					if ( (ipod_or_iphone && os < 4) && !ipad )
					{
						disableTestPage('audioplayer');
						disableTestPage('mediawheel_audio');
					}
					
					// Not IPad nor bb7
					if ( !ipad && !(wink.ua.isBlackBerry && wink.ua.browserVersion >= 7 ))
					{
						disableTestPage('videoplayer');
						disableTestPage('mediawheel_video');
					}
				}
				else
				{
					disableTestPage('audioplayer');
					disableTestPage('videoplayer');
					disableTestPage('mediawheel_audio');
					disableTestPage('mediawheel_video');
					disableTestPage('popup_add');
				}

				// Android
				if ( wink.ua.isAndroid )
				{
					// Android 1
					if (os < 2)
					{
						disableTestPage('sharingwheel');
						disableTestPage('tagcloud');
						disableTestPage('cache');

						// Android 1.1
						if (osm < 5)
						{
							disableTestPage('modalwindow');
							disableTestPage('spinner');
						}
					}
					// Android 2
					if (os == 2)
					{
						// Android 2.1
						if (osm == 1)
						{
							disableTestPage('slideshow');
						}
						if (osm == 2 || osm == 3)
						{
							disableTestPage('modalwindow');
						}
					}
				}

				// BlackBerry 6+
				if ( wink.ua.isBlackBerry )
				{
					disableTestPage('geolocation');
				}
			}
			
			var switchTheme = function(e)
			{
				window.location = window.location.pathname + "?theme=" + e.target.value;
			}
			
			var disableTestPage = function(name)
			{
				var nodeList = document.getElementsByName(name);
				
				for ( var i=0; i < nodeList.length; i++)
				{
					nodeList[i].className = 'unavailable';
				}
			}
			
			var goToPage = function(address)
			{
				window.location = address + '?theme=' + theme;
			}
		</script>
	</head>

	<body onload="init();setTimeout(scrollTo, 0, 0, 1);">
		<div style="padding-bottom: 20px">
			
			<!--  HEADER -->
			<div class="w_box w_header w_bg_dark">
				<div class="brand_logo">
					<a href="http://www.winktoolkit.org" title="wink homepage">
						<img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="brand_logo_img"/>
					</a>
				</div>
				<span id="title">Mevernote</span>
			</div>
			
			<div class="w_bloc" >
				Just click on the links below to access to the wink demos pages.
			</div>
			
			<div id="mevernote" style="width: 95%; margin: auto">
				<ul class="w_list w_border w_radius">
					<li class="w_list_item w_list_header w_border_bottom w_bg_dark">
						Themes
					</li>
					
					<li class="w_list_item w_border_bottom w_bg_light">
						<label for="default_theme">Default theme</label>
						<input id="default_theme" name="theme" value="default" type="radio" class="w_radio w_radius w_bg_dark" style="position: absolute; top: 8px; right: 10px" onchange="switchTheme(event);" checked/>
					</li>
					
					<li class="w_list_item w_border_bottom w_bg_light">
						<label for="claro_theme">Claro theme</label>
						<input id="claro_theme" name="theme" value="claro" type="radio" class="w_radio w_radius w_bg_dark" style="position: absolute; top: 8px; right: 10px" onchange="switchTheme(event);" />
					</li>
					
					<li class="w_list_item w_border_bottom w_bg_light">
						<label for="nihilo_theme">Nihilo theme</label>
						<input id="nihilo_theme" name="theme" value="nihilo" type="radio" class="w_radio w_radius w_bg_dark" style="position: absolute; top: 8px; right: 10px" onchange="switchTheme(event);" />
					</li>
					
					<li class="w_list_item w_border_bottom w_bg_light">
						<label for="chocolate_theme">Chocolate theme</label>
						<input id="chocolate_theme" name="theme" value="chocolate" type="radio" class="w_radio w_radius w_bg_dark" style="position: absolute; top: 8px; right: 10px" onchange="switchTheme(event);" />
					</li>
				</ul>
			</div>
		</div>
	</body>
</html>
